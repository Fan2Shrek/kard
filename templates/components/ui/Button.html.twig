{% if href is not null %}
    <a
        href="{{ href }}"
        class="{{ button.apply({size: size, unstyled: unstyled, variant: variant}, attributes.render('class')) }}"
        {{ attributes }}
    >
        {{ _self.buttonContent(text, iconLeft, iconRight) }}
    </a>
{% else %}
    <button
        class="{{ button.apply({size: size, unstyled: unstyled, variant: variant}, attributes.render('class')) }}"
        {{ attributes }}
    >
        {{ _self.buttonContent(text, iconLeft, iconRight) }}
    </button>
{% endif %}

{% macro buttonContent(text, icon_left, icon_right) %}
    {% if icon_left is not null %}
        <twig:UX:Icon name="{{ icon_left }}" />
    {% endif %}

    <span>{{ text }}</span>

    {% if icon_right is not null %}
        <twig:UX:Icon name="{{ icon_right }}" />
    {% endif %}
{% endmacro %}
