{% extends 'base.html.twig' %}

{% block head %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nabla&display=swap" rel="stylesheet">
{% endblock %}

{% block body %}
    <div {{ react_component('App', {assets: assets, gameContext: game, hand: hand ?? null, player: player ?? null}) }}></div>
{% endblock %}
{% block endscript %}
    <script type="application/json" id="mercure-game-url">
        {{ mercure('room-' ~ room.id)|json_encode(constant('JSON_UNESCAPED_SLASHES') b-or constant('JSON_HEX_TAG'))|raw }}
    </script>
    {% if player is defined %}
        <script type="application/json" id="mercure-game-player">
            {{ mercure('room-%s-%s'|format(room.id, playerId))|json_encode(constant('JSON_UNESCAPED_SLASHES') b-or constant('JSON_HEX_TAG'))|raw }}
        </script>
    {% endif %}
{% endblock %}
